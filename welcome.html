<!-- Enhanced Script -->
<script>
  let currentRole = ''; // To keep track of selected role

  function showForm(role) {
    currentRole = role;

    // Hide role selection and show login form
    document.getElementById("roleSelection").classList.add("hidden");
    document.getElementById("signForm").classList.remove("hidden");
    document.getElementById("signForm").scrollIntoView({ behavior: 'smooth' });

    // Toggle title and registration links
    const isStudent = role === 'student';
    document.getElementById("formTitle").innerText = isStudent ? 'Student Sign In' : 'Staff Sign In';
    document.getElementById("registerLink").classList.toggle("hidden", !isStudent);
    document.getElementById("staffRegisterLink").classList.toggle("hidden", isStudent);

    // Hide student register form if previously open
    document.getElementById("studentRegisterForm").classList.add("hidden");
  }

  function goBack() {
    // Go back to role selection
    document.getElementById("signForm").classList.add("hidden");
    document.getElementById("studentRegisterForm").classList.add("hidden");
    document.getElementById("roleSelection").classList.remove("hidden");
  }

  // Handle login form submission
  document.getElementById("loginForm").addEventListener("submit", function (e) {
    e.preventDefault();

    const email = document.getElementById("email").value.trim();
    const password = document.getElementById("password").value.trim();

    if (email && password) {
      // Redirect based on role
      if (currentRole === 'student') {
        window.location.href = "studenthome.html";
      } else if (currentRole === 'staff') {
        window.location.href = "staffhome.html";
      }
    } else {
      alert("Please enter both email and password.");
    }
  });
</script>